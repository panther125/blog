---
title: 运行机制与体系结构
date: 2020-04-12
categories:
- 操作系统
tags:
- 操作系统
---
:::info
预备知识：指令与代码
代码翻译成指令
==指令==就是处理器（CPU）能识别、执行的最基本命令
:::
# 运行机制
## 两种指令
### 特权指令
* 不允许用户使用
* 如内存清零指令
### 非特权命令
* 允许用户使用
* 如普通的运算指令
## 两种处理器状态
用程序状态字寄存器（PSW）中的某
标志位来标识当前处理器处于什么状
态。[如0为用户态,1为核心态]{.red}
### 核心态
* 特权指令、非特权指令都可执行
### 用户态
* 此时CPU只能执行非特权指令
## 两种程序
### 内核程序
* 操作系统的内核程序是系统的管理者，既可以执行特权指令,
也可以执行非特权指令运行在核心态
### 运用程序
* 为了保证系统能安全运行，普通应用程
序只能执行非特权指令,运行在用户态
# 操作系统内核
## 时钟管理
* 实现计时功能
## 中断管理
## 原语
* 原语是一种特殊的程序是最接近硬件的部分这种程序的运行具有原子性。
## 对系统资源进行管理的资源
### 进程管理
### 储存器管理
### 设备管理
# 操作系统的体系结构
![](https://pic.imgdb.cn/item/626e6155239250f7c5884949.png)
## 大内核
* 将操作系统的主要功能模块都作为系统内核，运行在核心态
* ==优点==：高性能
* ==缺点==：内核代码庞大，结构混乱，难以维护
## 微内核
* 只把最基本的功能保留在内核
* ==优点==：内核功能少，结构清晰，方便维护
* ==缺点==：需要频繁地在核心态和用户态之间切换，性能低
# 总结
![](https://pic.imgdb.cn/item/626e6167239250f7c58875b0.png)
* 内核是计算机上配置的底层软件，是操作系统最基本、最核心的部分。
* 实现操作系统内核功能的那些程序就是内核程序。
![](https://pic.imgdb.cn/item/626e6181239250f7c588bd73.png)
![](https://pic.imgdb.cn/item/626e61a3239250f7c589079b.png)
* 特权指令在核心态调用，少儿不宜；非特权指令在程序执行时都可以调用，老少皆宜。